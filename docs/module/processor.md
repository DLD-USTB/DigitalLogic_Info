# 处理器的数据通路

> by Zakilim

组合逻辑电路是一个输入到输出的映射，时序逻辑电路是当前状态与输入到输出和下一状态的映射。

时序电路在外界的数据输入下，在有限个状态当中不断转换，所以时序电路亦被称为有限状态机(FSM,Finite State Machines),处理器本身就是一个巨大的有限状态机。

但为了为了设计的简易，我们往往会将处理器这样的大型数字系统拆分成不同的小单元。每一个小单元或是数字电路或是组合电路。需要让这些不同的小单元整合在一起，协同工作，就需要不同的模块之间能够联合起来，与其他模块进行通信。数据通路就负责不同的模块之间进行交互。

## 处理器中的元件

在我们的实验基础要求中，我们要求实现五种指令，分别是Load,Move,Add,Sub,Mul，同时要求实现一个程序计数器PC

### 寄存器
Move指令的要求是将不同的寄存器之间进行数据传输，Add，Sub，Mul指令需要将数据从寄存器中取出并运算放回寄存器，所以首先需要的器件是一个存储元件，即寄存器堆Regfile。

除了寄存器堆，同时还有PC寄存器。PC寄存器

### ALU
为了实现加减运算，需要实现一个简单的ALU，能够支持加减法的运算，该模块是一个组合逻辑，提供两个操作数和操作符即可进行运算

```verilog
module ALU(
    input [7:0]data1,
    input [7:0]data2,
    input op,
    output res
);
    assign res = op ? data1 + data2 :data1 - data2;
endmodule
```
### 乘法器
[乘法器设计](./unsigned_multiplier)

乘法器可以设计成时序逻辑也可以设计成组合逻辑。

## 单总线结构数据通路

